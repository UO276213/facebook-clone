---
import Layout from "../layouts/Layout.astro";
import PostList from "../components/PostCardList";
import type { Post as PostType } from "../types/posts";

import UserDetailsCard from "../components/UserDetailsCard";
import ProfileHeader from "../components/ProfileHeader";

export const prerender = false;

const userManu = {
  id: crypto.randomUUID(),
  image: "/img/minions.jpg",
  name: "Manuel Antón",
};

const userMilo = {
  id: crypto.randomUUID(),
  image: "/img/koala.jpg",
  name: "Milo",
};

const posts: PostType[] = [
  {
    id: crypto.randomUUID(),
    user: userManu,
    created_at: new Date("2023-10-12"),
    body: {
      text: "Me gusta más que el facebook original",
      image: "/img/ai-palace.png",
    },
    feedback: {
      likes: [userMilo],
      comments: [
        {
          id: crypto.randomUUID(),
          user: userManu,
          text: "A mí también aunque no te sorprenda.",
          created_at: new Date("2023-10-12"),
        },
        {
          id: crypto.randomUUID(),
          user: userMilo,
          text: "Que imagen más chula.",
          created_at: new Date("2023-10-13"),
        },
      ],
    },
  },
];
---

<Layout title="Facebook">
  <ProfileHeader user={userManu} />
  <ProfileNavBar/>
  <main class="flex place-content-center">
    <div class="w-4/6 py-4 px-8">
      <div class="flex gap-4 place-content-center">
        <div class="flex flex-col w-2/5 sticky top-20 h-fit gap-4">
          <UserDetailsCard />
        </div>
        <div class="w-3/5">
          <PostList client:load user={userManu} posts={posts} />
        </div>
      </div>
    </div>
  </main>
</Layout>
